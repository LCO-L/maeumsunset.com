<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>SunSet Â· Pitch (Campfire Illustrated)</title>
<style>
:root{
  --bg:#fff6e5; --paper:#fffef9; --ink:#2e3a59; --muted:#6e7a95;
  --coral:#ff6f61; --lav:#d6a4a4; --pow:#a9c9ff; --line:#efd9c2;
  --shadow-1:0 2px 8px rgba(28,22,18,.08); --shadow-2:0 12px 28px rgba(28,22,18,.14);
  --radius:18px; --ease:cubic-bezier(.22,.61,.36,1);
}
:root.dark{
  --bg:#17130f; --paper:#1d1915; --ink:#f1e9de; --muted:#bfc8dd;
  --coral:#ff8d7f; --lav:#f0b7b7; --pow:#88b7ff; --line:#2a241e;
  --shadow-1:0 4px 10px rgba(0,0,0,.35); --shadow-2:0 18px 38px rgba(0,0,0,.5);
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:-apple-system,system-ui,Segoe UI,Roboto,Noto Sans KR,Malgun Gothic,sans-serif;color:var(--ink);
  background:
   radial-gradient(1400px 700px at 20% -10%, rgba(255,223,200,.55), transparent 60%),
   radial-gradient(1200px 700px at 120% 110%, rgba(169,201,255,.35), transparent 60%),
   var(--bg);}
.app{max-width:480px;min-height:100vh;margin:0 auto;display:flex;flex-direction:column}
header{position:sticky;top:0;z-index:20;padding:12px 16px;backdrop-filter:saturate(130%) blur(10px);
  background:linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,.6));border-bottom:1px solid var(--line);
  display:flex;align-items:center;gap:10px}
.logo{display:flex;align-items:center;gap:10px;font-weight:900}
.logo svg{width:22px;height:22px}
.pill{margin-left:auto;padding:6px 12px;border-radius:999px;background:linear-gradient(120deg,var(--pow),var(--lav),var(--coral));
  color:#372a22;font-weight:900;font-size:12px;box-shadow:inset 0 0 0 1px rgba(255,255,255,.6)}
.icon{width:36px;height:36px;border:1px solid var(--line);border-radius:12px;background:var(--paper);display:grid;place-items:center;cursor:pointer;position:relative;overflow:hidden;box-shadow:var(--shadow-1)}
.icon svg{width:18px;height:18px;fill:var(--ink)}
footer{position:sticky;bottom:0;z-index:20;background:linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,1));border-top:1px solid var(--line);box-shadow:var(--shadow-1)}
.tabs{display:flex}
.tabs button{flex:1;border:0;background:transparent;padding:10px 0 8px;display:flex;flex-direction:column;gap:4px;align-items:center;cursor:pointer;color:var(--muted);font-weight:800}
.tabs button.active{color:var(--ink)}
.tabs svg{width:20px;height:20px;fill:currentColor}
.ripple{position:absolute;inset:0;border-radius:inherit;pointer-events:none;background:radial-gradient(circle at var(--x) var(--y),rgba(255,255,255,.6),transparent 60%);animation:r .5s var(--ease)}
@keyframes r{from{opacity:1}to{opacity:0}}
main{flex:1;position:relative;overflow:hidden}
.view{position:absolute;inset:0;left:100%;padding:14px;overflow:auto;transition:left .28s var(--ease)}
.view.active{left:0}
.card{background:linear-gradient(180deg,rgba(255,255,255,.9),rgba(255,255,255,.75));border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow-2);padding:18px;margin-bottom:14px}
.card.ghost{background:linear-gradient(180deg,rgba(255,255,255,.6),rgba(255,255,255,.45));box-shadow:var(--shadow-1)}
.row{display:flex;gap:10px;flex-wrap:wrap}
.btn{flex:1;cursor:pointer;border:0;border-radius:14px;padding:13px 12px;font-weight:900;letter-spacing:.2px;position:relative;overflow:hidden;box-shadow:var(--shadow-1)}
.btn.primary{background:linear-gradient(150deg,var(--pow),var(--lav),var(--coral));color:#372a22}
.btn.ghost{background:transparent;border:1px solid var(--line);color:var(--ink)}
.input,.textin,textarea{width:100%;border:1px solid var(--line);border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,.95),rgba(255,255,255,.75));padding:12px 14px;font-size:16px}
textarea{min-height:160px;resize:vertical;line-height:1.7}
.q-title{font-size:12px;color:var(--muted);margin:0 0 6px}
.q-body{font-size:20px;font-weight:900;margin:0 0 10px}
.small{font-size:12px;color:var(--muted)}
.list{display:grid;gap:8px}
.item{padding:10px;border:1px dashed var(--line);border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,.8),rgba(255,255,255,.65))}
/* MAP background */
.map{height:380px;position:relative;border:1px solid var(--line);border-radius:18px;overflow:hidden;
  background:
    radial-gradient(800px 500px at 50% 110%, rgba(255,199,168,.6), transparent 60%),
    radial-gradient(700px 400px at -10% -10%, rgba(169,201,255,.55), transparent 60%),
    linear-gradient(180deg,#fffaf1,#fff6ea);
}
/* CAMPFIRE marker: logs + flame */
.campfire{position:absolute;transform:translate(-50%,-50%);width:80px;height:86px;cursor:pointer;user-select:none;filter:drop-shadow(0 8px 16px rgba(0,0,0,.18))}
.campfire svg{width:100%;height:100%}
/* flame animation */
@keyframes flameFlick{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-2px) scale(1.04)}}
.flame {transform-origin:50% 80%; animation:flameFlick 1.4s ease-in-out infinite}
.campfire.sel .flame {animation-duration:0.9s}
/* ember particles */
.ember{fill:rgba(255,180,120,.85); animation: rise 1.6s ease-in-out infinite}
.ember:nth-child(1){animation-delay:.0s}.ember:nth-child(2){animation-delay:.4s}.ember:nth-child(3){animation-delay:.8s}
@keyframes rise{0%{opacity:0; transform:translateY(0) scale(.6)}30%{opacity:1}100%{opacity:0; transform:translateY(-24px) scale(1.2)}}
/* CHAT */
.chat{display:grid;gap:10px}
.msg{background:linear-gradient(180deg,rgba(255,255,255,.95),rgba(255,255,255,.75));border:1px solid var(--line);border-radius:16px;padding:12px;box-shadow:var(--shadow-1)}
.name{font-weight:900;color:#d07c12;margin-bottom:4px}
.react{display:flex;gap:8px;margin-top:6px}
.react button{border:0;background:transparent;cursor:pointer;font-size:18px}
.inputbar{position:sticky;bottom:0;background:linear-gradient(180deg,rgba(255,255,255,0),var(--paper));padding:10px 0 12px}
.inputrow{display:flex;gap:8px}
.textin{flex:1;border-radius:999px}
/* SUMMARY */
.summary{font-size:15px;border-left:4px solid var(--coral);padding-left:10px;background:rgba(255,190,170,.25);border-radius:8px;white-space:pre-wrap}
.toast{position:fixed;left:50%;bottom:90px;transform:translateX(-50%);background:#2b211b;color:#fff;padding:10px 14px;border-radius:12px;opacity:0;pointer-events:none;transition:opacity .25s var(--ease);z-index:50;box-shadow:var(--shadow-2)}
.toast.show{opacity:1}
</style>
</head>
<body>
<div class="app">
  <header>
    <div class="logo">
      <svg viewBox="0 0 24 24" aria-hidden="true"><defs><linearGradient id="g" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="#ffcf80"/><stop offset="1" stop-color="#ff8c2e"/></linearGradient></defs><path fill="url(#g)" d="M12 2c1.4 3.1-1 4.3-1 6.8 0 1.5 1.5 2.7 3.1 2.1C14 13 13 15 10.8 15 8.2 15 6.2 12.9 6.2 10.6 6.2 6.9 9.2 5.2 12 2z"/></svg>
      <strong>SunSet</strong>
    </div>
    <span class="pill">Pitch</span>
    <button id="themeBtn" class="icon" aria-label="í…Œë§ˆ ì „í™˜"><svg viewBox="0 0 24 24"><path d="M12 3a9 9 0 100 18 9 9 0 010-18z"/></svg></button>
  </header>

  <main>
    <section id="home" class="view active">
      <article class="card">
        <p class="q-title">ì˜¤ëŠ˜ì˜ ì§ˆë¬¸</p>
        <p class="q-body" id="qText">ì˜¤ëŠ˜ í•˜ë£¨, ì–´ë–¤ ê°ì •ì„ ê°€ì¥ ê¸¸ê²Œ ëŠê¼ˆë‚˜ìš”?</p>
        <div class="row">
          <button class="btn primary" data-nav="editor">ì¼ê¸° ì“°ê¸°</button>
          <button class="btn ghost" data-nav="map">ìº í”„íŒŒì´ì–´</button>
          <button class="btn ghost" data-nav="feed">ê³µìœ  í”¼ë“œ</button>
        </div>
      </article>
      <article class="card ghost">
        <p class="q-title">ìµœê·¼ ì¼ê¸°</p>
        <div id="recentList" class="list"></div>
      </article>
    </section>

    <section id="editor" class="view">
      <article class="card">
        <div class="q-title">ì§ˆë¬¸</div>
        <p class="q-body" id="qText2">ì˜¤ëŠ˜ í•˜ë£¨, ì–´ë–¤ ê°ì •ì„ ê°€ì¥ ê¸¸ê²Œ ëŠê¼ˆë‚˜ìš”?</p>
        <div class="row">
          <button class="btn ghost" id="hintBtn">âœï¸ ê¸€ê°</button>
          <button class="btn ghost" id="moodBtn">ğŸ™‚ ê¸°ë¶„</button>
          <button class="btn ghost" id="clearBtn">ğŸ§¹ ì§€ìš°ê¸°</button>
        </div>
        <textarea id="entry" placeholder="ë”°ëœ»í•œ ë§íˆ¬ë¡œ, ì˜¤ëŠ˜ì˜ ìˆœê°„ì„ ê¸°ë¡í•´ìš”â€¦"></textarea>
        <div class="row" style="margin-top:8px">
          <button class="btn primary" data-nav="summary" id="aiBtn">AI ìš”ì•½</button>
          <button class="btn ghost" data-nav="visibility">ê³µê°œ ë²”ìœ„</button>
          <button class="btn ghost" id="saveDraft">ì„ì‹œ ì €ì¥</button>
        </div>
      </article>
    </section>

    <section id="summary" class="view">
      <article class="card">
        <p class="q-title">AI ìš”ì•½</p>
        <div id="sumBox" class="summary"></div>
        <div class="row" style="margin-top:10px">
          <button class="btn primary" data-nav="map">ìº í”„íŒŒì´ì–´ë¡œ</button>
          <button class="btn ghost" data-nav="editor">ìˆ˜ì •</button>
        </div>
      </article>
    </section>

    <section id="visibility" class="view">
      <article class="card">
        <p class="q-title">ê³µê°œ ë²”ìœ„</p>
        <label class="item"><input type="radio" name="vis" value="ë‚˜ë§Œ ë³´ê¸°"> ë‚˜ë§Œ ë³´ê¸°</label>
        <label class="item"><input type="radio" name="vis" value="ì§€ì¸ ê³µê°œ"> ì§€ì¸ ê³µê°œ</label>
        <label class="item"><input type="radio" name="vis" value="ìµëª… í´ëŸ¬ìŠ¤í„°" checked> ìµëª… í´ëŸ¬ìŠ¤í„°</label>
        <label class="item"><input type="radio" name="vis" value="ì „ì²´ ê³µê°œ"> ì „ì²´ ê³µê°œ</label>
        <div class="row" style="margin-top:10px">
          <button class="btn primary" data-nav="editor">í™•ì¸</button>
        </div>
      </article>
    </section>

    <!-- CAMPFIRE MAP (with illustrated fires) -->
    <section id="map" class="view">
      <article class="card">
        <div class="row" style="justify-content:space-between;align-items:center">
          <strong>ìº í”„íŒŒì´ì–´</strong>
          <span class="small">ì¥ì‘ë¶ˆ ì•„ì´ì½˜ì„ ì„ íƒí•˜ì„¸ìš”</span>
        </div>
        <div class="map">
          <!-- Fire A -->
          <div class="campfire" style="left:24%;top:68%" data-c="A" title="ì„±ì°° Â· 42ëª…">
            <svg viewBox="0 0 80 86" role="img" aria-label="ìº í”„íŒŒì´ì–´ A">
              <!-- embers -->
              <circle class="ember" cx="40" cy="26" r="2"/>
              <circle class="ember" cx="30" cy="20" r="1.8"/>
              <circle class="ember" cx="50" cy="18" r="1.6"/>
              <!-- flame group -->
              <g class="flame">
                <path d="M40 10 C35 22, 30 26, 32 34 C33 42, 40 46, 44 44 C50 40, 52 33, 48 26 C46 22, 44 18, 40 10Z" fill="#ffb347"/>
                <path d="M40 16 C37 23, 34 26, 35 32 C36 38, 40 40, 43 38 C46 36, 47 31, 45 27 C44 25, 42 21, 40 16Z" fill="#ff8c2e"/>
                <circle cx="40" cy="44" r="12" fill="rgba(255,205,150,.35)"/>
              </g>
              <!-- logs -->
              <g>
                <rect x="18" y="58" width="44" height="8" rx="4" fill="#7a4e2a"/>
                <rect x="20" y="60" width="40" height="4" rx="2" fill="#5e3b1f"/>
                <rect x="26" y="64" width="44" height="8" rx="4" fill="#7a4e2a" transform="rotate(-12 26 64)"/>
                <rect x="28" y="66" width="40" height="4" rx="2" fill="#5e3b1f" transform="rotate(-12 28 66)"/>
              </g>
            </svg>
          </div>
          <!-- Fire B -->
          <div class="campfire" style="left:55%;top:36%" data-c="B" title="ì˜ˆë¯¼í•¨ Â· 38ëª…">
            <svg viewBox="0 0 80 86" role="img" aria-label="ìº í”„íŒŒì´ì–´ B">
              <circle class="ember" cx="40" cy="26" r="2"/>
              <circle class="ember" cx="30" cy="20" r="1.8"/>
              <circle class="ember" cx="50" cy="18" r="1.6"/>
              <g class="flame">
                <path d="M40 10 C35 22, 30 26, 32 34 C33 42, 40 46, 44 44 C50 40, 52 33, 48 26 C46 22, 44 18, 40 10Z" fill="#ffd36e"/>
                <path d="M40 16 C37 23, 34 26, 35 32 C36 38, 40 40, 43 38 C46 36, 47 31, 45 27 C44 25, 42 21, 40 16Z" fill="#ffb347"/>
                <circle cx="40" cy="44" r="12" fill="rgba(255,205,150,.35)"/>
              </g>
              <g>
                <rect x="18" y="58" width="44" height="8" rx="4" fill="#7a4e2a"/>
                <rect x="20" y="60" width="40" height="4" rx="2" fill="#5e3b1f"/>
                <rect x="26" y="64" width="44" height="8" rx="4" fill="#7a4e2a" transform="rotate(10 26 64)"/>
                <rect x="28" y="66" width="40" height="4" rx="2" fill="#5e3b1f" transform="rotate(10 28 66)"/>
              </g>
            </svg>
          </div>
          <!-- Fire C -->
          <div class="campfire" style="left:78%;top:72%" data-c="C" title="ì°¨ë¶„í•¨ Â· 51ëª…">
            <svg viewBox="0 0 80 86" role="img" aria-label="ìº í”„íŒŒì´ì–´ C">
              <circle class="ember" cx="40" cy="26" r="2"/>
              <circle class="ember" cx="30" cy="20" r="1.8"/>
              <circle class="ember" cx="50" cy="18" r="1.6"/>
              <g class="flame">
                <path d="M40 10 C35 22, 30 26, 32 34 C33 42, 40 46, 44 44 C50 40, 52 33, 48 26 C46 22, 44 18, 40 10Z" fill="#ffb347"/>
                <path d="M40 16 C37 23, 34 26, 35 32 C36 38, 40 40, 43 38 C46 36, 47 31, 45 27 C44 25, 42 21, 40 16Z" fill="#ff8c2e"/>
                <circle cx="40" cy="44" r="12" fill="rgba(255,205,150,.35)"/>
              </g>
              <g>
                <rect x="18" y="58" width="44" height="8" rx="4" fill="#7a4e2a"/>
                <rect x="20" y="60" width="40" height="4" rx="2" fill="#5e3b1f"/>
                <rect x="26" y="64" width="44" height="8" rx="4" fill="#7a4e2a" transform="rotate(-6 26 64)"/>
                <rect x="28" y="66" width="40" height="4" rx="2" fill="#5e3b1f" transform="rotate(-6 28 66)"/>
              </g>
            </svg>
          </div>
        </div>
        <div class="row" style="margin-top:10px">
          <button class="btn primary" id="openCamp">ì„ íƒí•œ ìº í”„íŒŒì´ì–´ ì—´ê¸°</button>
          <button class="btn ghost" data-nav="home">ë’¤ë¡œ</button>
        </div>
      </article>
    </section>

    <section id="campfire" class="view">
      <article class="card">
        <div class="row" style="justify-content:space-between;align-items:center">
          <strong>ìº í”„íŒŒì´ì–´ Â· <span id="campLabel">-</span></strong>
          <span class="small"><span id="left">--:--:--</span> ë‚¨ìŒ</span>
        </div>
        <div id="chat" class="chat"></div>
        <div class="inputbar">
          <div class="inputrow">
            <input id="msg" class="textin" placeholder="ì¡°ìš©íˆ ì‘ì‹œí•˜ê±°ë‚˜, í•œ ë§ˆë”” ë‚¨ê²¨ìš”â€¦">
            <button id="send" class="btn primary">ë³´ë‚´ê¸°</button>
          </div>
        </div>
      </article>
    </section>

    <section id="feed" class="view">
      <article class="card">
        <p class="q-title">ìµëª… ê³µìœ  í”¼ë“œ(í”„ë¦¬ë·°)</p>
        <div id="feedList" class="list"></div>
      </article>
    </section>

    <section id="settings" class="view">
      <article class="card">
        <p class="q-title">ì„¤ì •</p>
        <div class="row">
          <button id="themeToggle" class="btn ghost">ë¼ì´íŠ¸/ë‹¤í¬</button>
          <button id="reset" class="btn ghost">ë°ì´í„° ì´ˆê¸°í™”</button>
        </div>
      </article>
    </section>
  </main>

  <footer>
    <nav class="tabs">
      <button data-nav="home" class="active" aria-label="í™ˆ"><svg viewBox="0 0 24 24"><path d="M12 3l9 8h-3v9H6v-9H3z"/></svg><span>í™ˆ</span></button>
      <button data-nav="editor" aria-label="ì“°ê¸°"><svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"/></svg><span>ì“°ê¸°</span></button>
      <button data-nav="map" aria-label="ë§µ"><svg viewBox="0 0 24 24"><path d="M15 6l-6-2-6 2v14l6-2 6 2 6-2V4z"/></svg><span>ë§µ</span></button>
      <button data-nav="feed" aria-label="í”¼ë“œ"><svg viewBox="0 0 24 24"><path d="M4 6h16v12H4zM6 4h12v2H6z"/></svg><span>í”¼ë“œ</span></button>
      <button data-nav="settings" aria-label="ì„¤ì •"><svg viewBox="0 0 24 24"><path d="M19.14 12.94a8 8 0 000-1.88l2.03-1.58a.5.5 0 00.12-.65l-1.92-3.32a.5.5 0 00-.61-.22l-2.39.96a8 8 0 00-1.63-.95l-.36-2.54A.5.5 0 0013.9 2H10.1a.5.5 0 00-.49.42l-.36 2.54c-.57.23-1.12.53-1.63.95l-2.39-.96a.5.5 0 00-.61.22L2.7 8.03a.5.5 0 00.12.65l2.03 1.58c-.06.31-.1.63-.1.94s.04.63.1.94L2.82 13.7a.5.5 0 00-.12.65l1.92 3.32c.14.24.44.34.7.22l2.39-.96c.51.42 1.06.72 1.63.95l.36 2.54c.05.25.26.42.49.42h3.8c.24 0 .44-.17.49-.42l.36-2.54c.57-.23 1.12-.53 1.63-.95l2.39.96c.26.12.56.02.7-.22l1.92-3.32a.5.5 0 00-.12-.65l-2.03-1.58zM12 16a4 4 0 110-8 4 4 0 010 8z"/></svg><span>ì„¤ì •</span></button>
    </nav>
  </footer>
</div>

<div class="toast" id="toast">ì™„ë£Œ</div>

<script>
const $=(s,r=document)=>r.querySelector(s), $$=(s,r=document)=>Array.from(r.querySelectorAll(s));
function go(id){ $$('.view').forEach(v=>v.classList.remove('active')); $('#'+id).classList.add('active'); $$('.tabs button').forEach(b=>b.classList.toggle('active', b.dataset.nav===id)); }
function ripple(e){ const b=e.currentTarget, r=document.createElement('span'); const rect=b.getBoundingClientRect(); r.className='ripple'; r.style.setProperty('--x',(e.clientX-rect.left)+'px'); r.style.setProperty('--y',(e.clientY-rect.top)+'px'); b.appendChild(r); setTimeout(()=>r.remove(),500); }
$$('[data-nav]').forEach(b=>b.addEventListener('click', e=>{ ripple(e); go(b.dataset.nav);}));
function toast(m){ const t=$('#toast'); t.textContent=m; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1500); }
$('#themeBtn').addEventListener('click', e=>{ ripple(e); document.documentElement.classList.toggle('dark'); });
$('#themeToggle').addEventListener('click', e=>{ ripple(e); document.documentElement.classList.toggle('dark'); });
const qs=['ì˜¤ëŠ˜ í•˜ë£¨, ì–´ë–¤ ê°ì •ì„ ê°€ì¥ ê¸¸ê²Œ ëŠê¼ˆë‚˜ìš”?','ì˜¤ëŠ˜ ë‚˜ë¥¼ ì›ƒê²Œ í•œ ì¥ë©´ì€?','ì§€ê¸ˆ ë§ˆìŒì˜ ì˜¨ë„ëŠ” ëª‡ ë„ì¯¤ì¼ê¹Œìš”?']; const q=qs[Math.floor(Math.random()*qs.length)]; $('#qText').textContent=q; $('#qText2').textContent=q;
const hints=['ì§§ì€ ë¬¸ì¥ í•˜ë‚˜ë¡œ ì˜¤ëŠ˜ì„ ìš”ì•½í•´ë´ìš”.','ëª¸ì´ ê¸°ì–µí•œ ê°ê°(ë¹›/ëƒ„ìƒˆ/ì†Œë¦¬) í•˜ë‚˜ë¥¼ ì ì–´ë´ìš”.','ê³ ë§ˆì› ë˜ ìˆœê°„ì„ ë– ì˜¬ë ¤ìš”.','ë‚´ì¼ì˜ ì‘ì€ ì•½ì† í•˜ë‚˜.'];
$('#hintBtn').addEventListener('click', e=>{ ripple(e); toast('ê¸€ê°: '+hints[Math.floor(Math.random()*hints.length)]); });
$('#moodBtn').addEventListener('click', e=>{ ripple(e); toast('ê¸°ë¶„: ì—…ë°ì´íŠ¸ ì™„ë£Œ'); });
$('#clearBtn').addEventListener('click', e=>{ ripple(e); if(confirm('ì…ë ¥ ë‚´ìš©ì„ ì§€ìš¸ê¹Œìš”?')) $('#entry').value=''; });
function getEntries(){ return JSON.parse(localStorage.getItem('sunset.entries')||'[]'); }
function setEntries(a){ localStorage.setItem('sunset.entries', JSON.stringify(a)); }
function loadRecent(){ const list=$('#recentList'); list.innerHTML=''; const a=getEntries().slice(-6).reverse(); if(a.length===0){ list.innerHTML='<div class="item">ì•„ì§ ì‘ì„±ëœ ì¼ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>'; return;} a.forEach(e=>{ const d=document.createElement('div'); d.className='item'; d.textContent=(e.text||'').slice(0,80); list.appendChild(d); }); }
function saveEntry(){ const t=$('#entry').value.trim(); if(!t) return; const arr=getEntries(); arr.push({text:t,date:Date.now(),vis:getVis()}); setEntries(arr); loadRecent(); toast('ì„ì‹œ ì €ì¥ ì™„ë£Œ âœ…'); }
function getVis(){ const r=$$('input[name="vis"]'); const f=r.find(x=>x.checked); return f?f.value:'ìµëª… í´ëŸ¬ìŠ¤í„°'; }
$('#saveDraft').addEventListener('click', saveEntry); loadRecent();
$('#aiBtn').addEventListener('click', ()=>{ saveEntry(); const t=$('#entry').value.trim(); const s=t ? `ìš”ì•½: "${t.slice(0,160)}${t.length>160?'â€¦':''}"\n\në§ë²—: ì˜¤ëŠ˜ì˜ ê°ì •ì´ ìì—°ìŠ¤ëŸ½ê²Œ í˜ë €ë„¤ìš”.` : 'ìš”ì•½: ì”ì”í•œ í”¼ë¡œì™€ í•¨ê»˜, ì¡°ìš©í•œ ì—°ê²°ì„ ë°”ëìŠµë‹ˆë‹¤.'; go('summary'); const el=$('#sumBox'); el.textContent=''; let i=0; const id=setInterval(()=>{ el.textContent += s[i]||''; i++; if(i>s.length) clearInterval(id); }, 12); });
$$('input[name="vis"]').forEach(r=>r.addEventListener('change', ()=>toast('ê³µê°œ ë²”ìœ„: '+r.value)));
/* CAMPFIRE select */
let selected=null; $$('.campfire').forEach(cf=>cf.addEventListener('click', ()=>{ $$('.campfire').forEach(x=>x.classList.remove('sel')); cf.classList.add('sel'); selected=cf.dataset.c; }));
$('#openCamp').addEventListener('click', ()=>{ if(!selected) return alert('ìº í”„íŒŒì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”.'); $('#campLabel').textContent=selected; startCamp(); go('campfire'); });
/* Chat & timer */
const msgs=[{n:'Luna',t:'ì˜¤ëŠ˜ì€ ë§ìˆ˜ê°€ ì¤„ì—ˆì–´ìš”. ëŒ€ì‹  ë§ˆìŒì´ ì¡°ê¸ˆ ê³ ìš”í–ˆì–´ìš”.'},{n:'Noah',t:'ì‚¬ì†Œí•œ ì˜¤í•´ê°€ ìˆì—ˆì§€ë§Œ, ê¸ˆë°© í’€ë¦´ ê²ƒ ê°™ì•„ìš”.'},{n:'Ava',t:'ì‚°ì±…ì„ í–ˆë”ë‹ˆ ìˆ¨ì´ ê¹Šì–´ì¡Œì–´ìš”.'}];
function renderChat(){ const c=$('#chat'); c.innerHTML=''; msgs.forEach(m=>{ const div=document.createElement('div'); div.className='msg'; div.innerHTML=`<div class="name">${m.n}</div>${m.t}<div class="react"><button>â¤ï¸ <span>0</span></button><button>ğŸ‘ <span>0</span></button><button>ğŸ”¥ <span>0</span></button></div>`; c.appendChild(div); }); } renderChat();
$('#chat').addEventListener('click', e=>{ const b=e.target.closest('button'); if(!b) return; const s=b.querySelector('span'); s.textContent=String((+s.textContent||0)+1); });
$('#send').addEventListener('click', ()=>{ const v=$('#msg').value.trim(); if(!v) return; msgs.push({n:'ë‚˜',t:v}); renderChat(); $('#msg').value=''; $('#chat').scrollTo({top:$('#chat').scrollHeight,behavior:'smooth'}); });
let end=null,tid=null; function startCamp(){ end=Date.now()+ (23*3600+59*60+20)*1000; if(tid) clearInterval(tid); tid=setInterval(()=>{ const left=Math.max(0,end-Date.now()); const h=String(Math.floor(left/3600000)).padStart(2,'0'); const m=String(Math.floor((left%3600000)/60000)).padStart(2,'0'); const s=String(Math.floor((left%60000)/1000)).padStart(2,'0'); $('#left').textContent=`${h}:${m}:${s}`; if(left<=0) clearInterval(tid); },1000); }
/* FEED */
const demoFeed=[
 {m:'ğŸŒ¿ ì°¨ë¶„í•¨', t:'í–‡ì‚´ì´ ë¶€ë“œëŸ¬ì›Œì„œ ì°½ë¬¸ì„ ì˜¤ë˜ ì—´ì–´ ë‘ì—ˆë‹¤.'},
 {m:'ğŸ«§ ì˜ˆë¯¼í•¨', t:'ì‘ì€ ì†Œë¦¬ì—ë„ ì‹ ê²½ì´ ê³¤ë‘ì„°ì§€ë§Œ, ì €ë…ì—” ì¡°ê¸ˆ í’€ë ¸ë‹¤.'},
 {m:'ğŸŒ« íë¦¼', t:'ë¨¸ë¦¬ê°€ ë¬´ê±°ì› ë‹¤. ì»¤í”¼ í–¥ë§Œì´ ì„ ëª…í–ˆë‹¤.'},
 {m:'ğŸ”¥ ì—´ì •', t:'ì§§ì€ ì•„ì´ë””ì–´ê°€ ìê¾¸ ë– ì˜¬ë¼ì„œ ë©”ëª¨ì¥ì„ ì±„ì› ë‹¤.'}
];
function loadFeed(){ const l=$('#feedList'); l.innerHTML=''; demoFeed.forEach(x=>{ const d=document.createElement('div'); d.className='item'; d.textContent=`${x.m} ${x.t}`; l.appendChild(d); }); } loadFeed();
/* misc */
$$('.tabs button, .btn, .icon').forEach(el=>el.addEventListener('click', ripple));
$('#reset').addEventListener('click', ()=>{ if(!confirm('ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí• ê¹Œìš”?')) return; localStorage.removeItem('sunset.entries'); loadRecent(); toast('ì´ˆê¸°í™” ì™„ë£Œ'); });
</script>
</body>
</html>

